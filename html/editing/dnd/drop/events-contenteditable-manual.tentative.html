<!doctype html>
<meta charset=utf-8>
<title>Selection drag and drop: events for &lt;input></title>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<style>
[data-placeholder]:empty::before { content: attr(data-placeholder); }
</style>
<div><input id=a value="Drag me"></div>
<div contenteditable=true id=b data-placeholder="...to here"></div>
<script>
setup({ explicit_timeout: true, single_test: true });
const a = document.getElementById('a');
const b = document.getElementById('b');
const actualEvents = [];
const expectedEvents = ['drop', 'beforeinput', 'textInput', 'input'];
for (const eventType of expectedEvents) {
  b.addEventListener(eventType, e => {
    actualEvents.push(e.type);
    if (actualEvents.length === expectedEvents.length) {
      assert_array_equals(actualEvents, expectedEvents);
      done();
    }
  });
}
a.select();
</script>
